# 🎯 研究室でのシステム共有・運用ガイド

## 📋 概要

AGU知技能ロボティクス研究室の「オープンラボ・同窓会出席管理システム」を研究室メンバーと効率的に共有し、運用するための詳細ガイドです。

## 🚀 クイックスタート（3ステップ）

### Step 1: ファイルの準備
```bash
# 必要なファイル一式を確認
ls -la
# 以下のファイルがあることを確認：
# ├── index.html          # メイン画面
# ├── admin.html          # 管理画面
# ├── styles.css          # スタイルシート
# ├── script.js           # JavaScript機能
# ├── setup.py            # サーバー起動スクリプト
# └── README.md           # 詳細説明
```

### Step 2: サーバー起動
```bash
# 簡単起動（推奨）
python3 setup.py

# または従来の方法
python3 -m http.server 8000
```

### Step 3: アクセス
- **メイン画面**: http://localhost:8000
- **管理画面**: http://localhost:8000/admin.html

---

## 🌐 共有方法別ガイド

### 🏆 Option 1: GitHub Pages（推奨）

**メリット**: 無料・高速・研究室外からもアクセス可能

#### 手順：
1. **GitHubアカウント作成**（無料）
2. **新しいリポジトリ作成**
   - リポジトリ名: `agu-isr-attendance`
   - Public設定
3. **ファイルアップロード**
   ```bash
   git init
   git add .
   git commit -m "初期コミット"
   git branch -M main
   git remote add origin https://github.com/[ユーザー名]/agu-isr-attendance.git
   git push -u origin main
   ```
4. **GitHub Pages有効化**
   - Settings → Pages
   - Source: Deploy from a branch
   - Branch: main / (root)
   - Save
5. **公開URL確認**
   - `https://[ユーザー名].github.io/agu-isr-attendance/`

#### 管理画面アクセス:
- `https://[ユーザー名].github.io/agu-isr-attendance/admin.html`

---

### 🖥️ Option 2: 研究室サーバー

**メリット**: 研究室内ネットワークで高速・セキュア

#### 前提条件：
- 研究室内にWebサーバーがある
- SSH/FTPアクセス権限がある

#### 手順：
1. **サーバーにファイルをアップロード**
   ```bash
   scp -r * user@server.isr.lab:/var/www/html/attendance/
   ```
2. **権限設定**
   ```bash
   ssh user@server.isr.lab
   chmod -R 755 /var/www/html/attendance/
   ```
3. **アクセス確認**
   - `http://server.isr.lab/attendance/`

---

### 💻 Option 3: ローカルネットワーク共有

**メリット**: セットアップ不要・すぐに使える

#### 手順：
1. **サーバー起動**
   ```bash
   python3 setup.py
   ```
2. **IPアドレス確認**
   ```bash
   # macOS/Linux
   ifconfig | grep "inet "
   
   # Windows
   ipconfig
   ```
3. **研究室メンバーに共有**
   - `http://[あなたのIPアドレス]:8000`
   - 例：`http://192.168.1.100:8000`

#### 注意事項：
- あなたのPCが起動している間のみアクセス可能
- ファイアウォール設定を確認

---

## 👥 研究室メンバー向け使用ガイド

### 🔍 基本操作

#### 1. 出席状況の確認
- **オープンラボ/同窓会の切り替え**: 上部のボタンをクリック
- **年度フィルター**: 2019年〜2024年で絞り込み
- **課程フィルター**: 修士課程・学士課程で絞り込み
- **状況フィルター**: 出席・欠席・未回答で絞り込み

#### 2. 統計の見方
- 📊 **総卒業生数**: 対象となる卒業生の総数
- 🟢 **出席予定**: 緑色のバッジが付いた人数
- 🔴 **欠席予定**: 赤色のバッジが付いた人数
- 🟡 **未回答**: オレンジ色のバッジが付いた人数

#### 3. 検索機能
開発者コンソールで：
```javascript
searchAlumni("山田"); // 名前で検索
searchAlumni("NEC");  // 会社名で検索
```

### 🛠️ 管理者向け操作ガイド

#### 管理画面アクセス
- URL末尾に `/admin.html` を追加
- 例：`http://localhost:8000/admin.html`

#### 出席状況の更新方法

**個別更新**:
1. 該当する卒業生のカードを探す
2. カード下部の「出席」「欠席」「未回答」ボタンをクリック

**一括更新**:
1. フィルターで対象者を絞り込み
2. 「全員出席に設定」「全員欠席に設定」「全員未回答に設定」をクリック

**データ保存**:
- 「データ保存」ボタンでブラウザに保存
- 自動保存機能はないため、定期的に保存を推奨

---

## 🔒 セキュリティ・プライバシー考慮事項

### ✅ 現在の実装での保護
- 顔写真は自動生成アバター（個人情報なし）
- データはブラウザローカルストレージに保存
- 外部サーバーへのデータ送信なし

### ⚠️ 注意事項
- **管理画面のアクセス制限**: 現在は誰でもアクセス可能
- **データの永続化**: ブラウザデータクリア時に消失の可能性
- **同期機能**: 複数人が同時編集すると競合の可能性

### 🛡️ 本格運用時の推奨セキュリティ対策
1. **認証システム導入**
2. **HTTPS接続強制**
3. **定期的なデータバックアップ**
4. **アクセスログ記録**

---

## 📊 データ管理・運用ベストプラクティス

### 📝 データの追加・編集

#### 新しい卒業生の追加
`script.js`の`alumniData`配列に追加：
```javascript
{
    id: 31, // 次の番号
    nameJa: "新卒業生 太郎",
    nameEn: "Taro Shinsotsugyosei",
    year: 2024,
    course: "master", // または "bachelor"
    company: "新入社先",
    attendance: {
        openlab: "pending",
        alumni: "pending"
    }
}
```

#### 企業名の更新
転職等で企業名が変わった場合も同様に編集

### 💾 データバックアップ

#### 手動バックアップ
```javascript
// 開発者コンソールで実行
exportData(); // CSV形式でダウンロード
```

#### 定期バックアップ（推奨）
- 月1回程度のCSVエクスポート
- GitHubリポジトリの定期更新

### 🔄 データ同期

**複数人で管理する場合**：
1. 1人を「メインデータ管理者」として指定
2. 変更はメイン管理者に集約
3. 定期的にデータを更新・共有

---

## 🎨 カスタマイズガイド

### 🖼️ 実際の顔写真を使用する場合

#### 手順：
1. **画像フォルダ作成**
   ```bash
   mkdir images/alumni
   ```

2. **画像ファイル配置**
   ```
   images/alumni/1.jpg    # ID 1の卒業生
   images/alumni/2.jpg    # ID 2の卒業生
   ...
   ```

3. **コード修正** (`script.js`)
   ```javascript
   // 343行目付近を変更
   const photoUrl = `images/alumni/${alumni.id}.jpg`;
   ```

### 🎨 デザインカスタマイズ

#### 研究室カラーに変更
`styles.css`を編集：
```css
/* メインカラー変更例 */
background: linear-gradient(135deg, #your-color1 0%, #your-color2 100%);
```

#### ロゴの追加
`index.html`のヘッダー部分に画像を追加

---

## 🐛 トラブルシューティング

### ❓ よくある問題と解決方法

**Q: サーバーが起動しない**
```bash
# ポートが使用中の場合
python3 -m http.server 8001  # 別のポートを試す
```

**Q: 画像が表示されない**
- ブラウザのCORS制限が原因
- 必ずWebサーバー経由でアクセス
- `file://`では動作しません

**Q: データが保存されない**
- 管理画面で「データ保存」ボタンを押す
- ブラウザのローカルストレージを確認

**Q: スマートフォンで表示が崩れる**
- 最新ブラウザを使用
- JavaScriptが有効になっているか確認

**Q: 複数人で編集すると競合する**
- 現状では最後の編集が優先
- データ管理者を1人に絞ることを推奨

### 🔧 高度なトラブルシューティング

#### ブラウザコンソールでのデバッグ
```javascript
// データの確認
console.log(alumniData);

// ローカルストレージの確認
console.log(localStorage.getItem('alumniData'));

// データのリセット
localStorage.clear();
location.reload();
```

---

## 📈 将来の拡張計画

### 🚀 近い将来の改善予定
- [ ] データベース連携
- [ ] ログイン機能
- [ ] リアルタイム同期
- [ ] モバイルアプリ対応

### 💡 アイデア募集中
- 新機能のリクエスト
- UIの改善提案
- 運用面での課題

---

## 📞 サポート・問い合わせ

### 🆘 緊急時の連絡先
- **技術的問題**: システム管理者
- **データの問題**: データ管理担当者
- **運用に関する質問**: 研究室Slack

### 📚 参考資料
- [GitHub Pages公式ドキュメント](https://docs.github.com/pages)
- [Python HTTPサーバー](https://docs.python.org/3/library/http.server.html)

---

**最終更新**: 2024年12月  
**作成者**: AGU ISR Lab System Team  
**バージョン**: 1.0.0

---

## ✅ チェックリスト

### 📋 導入前確認事項
- [ ] 必要なファイルが揃っている
- [ ] Python3がインストールされている
- [ ] ネットワーク環境が整っている
- [ ] 管理者権限の設定ができている

### 📋 運用開始前確認事項
- [ ] 全卒業生データが正しく入力されている
- [ ] 管理画面の操作方法を理解している
- [ ] バックアップ方法を確認している
- [ ] 研究室メンバーに使用方法を説明している

### 📋 定期メンテナンス
- [ ] 月次データバックアップ
- [ ] 新卒業生データの追加
- [ ] システムの動作確認
- [ ] 改善要望の収集 